# 第二章：你的代码一定会外泄

我们第二章这个标题，这就更耸动了。说实在，天下真的没有不外泄的代码。

外泄的原因有很多：

1. 骇客利用 Directory Traversal Attack，把代码顺走。
2. 黑客攻进程序员的 Github 做精准攻击，拿走代码。
3. 离职的员工心存不满，贩售代码。

等等等等。各式你所想像不到的情形。

代码外泄有多恐怖呢？

原本黑客攻击你的服务，是要不断的用工具猜测弱点的。拿到弱点以后针对不同情况，手工夺取权限。

如果他能拿到代码，省的时间可就真的大把。

## 防御手段一：避免把密码直接写死进代码里面

但这不是泄漏代码最大的危险性。最大的危险性是互联网上大把从业程序员，为了开发方便，直接把密码写进代码里面。而且还「上了版本控制系统」XD

也就是这些密码一旦进版本控制系统以后，就擦都擦不掉了。

其实外泄程式码，往往不是最严重的。因为一个互联网服务，一定是配套的：

> 代码 + 数据库 + 第三方服务

得同时拿到这三套东西，整套服务才 work。

但是如果公司的程序员偷懒，把存取数据库以及第三方的金钥通通都写进代码库里面。

当代码一旦被盗，暴露的风险就会无限的大。

前一阵子，B 站就曾经发生一个事故，他们的代码不知道是被黑客还是离职员工拿到。直接被开源在 Github 上面。

撇开 B 站的代码风格不说，光一堆敏感密码被写死在代码里面。这件事就成为技术圈的笑柄。

所以说并不是只有初创企业没有经过训练的互联网程序员会犯这样的错，连美股上市互联网公司的代码，也会有这样的问题。
